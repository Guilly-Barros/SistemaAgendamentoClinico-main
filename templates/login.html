<!doctype html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Login - Clínica Vida+</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

    <style>
      body {
        background: linear-gradient(135deg, #e0f7fa, #e3f2fd);
        font-family: 'Poppins', sans-serif;
      }

      .card {
        border: none;
        border-radius: 15px;
      }

      .card-title {
        color: #0d6efd;
        font-weight: 600;
      }

      .login-icon {
        font-size: 3rem;
        color: #0d6efd;
        display: flex;
        justify-content: center;
        margin-bottom: 10px;
      }

      .btn-primary {
        background-color: #0d6efd;
        border: none;
      }

      .btn-primary:hover {
        background-color: #0b5ed7;
      }

      .register-link {
        text-align: center;
        margin-top: 15px;
      }

      .register-link a {
        text-decoration: none;
        color: #0d6efd;
        font-weight: 500;
      }

      .register-link a:hover {
        text-decoration: underline;
      }

      footer {
        text-align: center;
        color: #6c757d;
        font-size: 0.9rem;
        margin-top: 20px;
      }
    </style>
  </head>

  <body>
    <!-- Exibe mensagens de feedback (sucesso, erro, aviso) -->
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <div class="alert alert-{{ category }} mt-2 text-center" role="alert">
        {{ message }}
      </div>
    {% endfor %}
  {% endif %}
{% endwith %}

    <div class="container d-flex justify-content-center align-items-center vh-100">
      <div class="card shadow p-4" style="width: 100%; max-width: 420px;">
        
        <div class="login-icon">
          <i class="bi bi-heart-pulse-fill"></i>
        </div>
        <h3 class="card-title text-center mb-4">Acesso ao Sistema</h3>
        <p class="text-center text-muted mb-4">Entre para gerenciar seus agendamentos clínicos</p>

        <form action="{{ url_for('user.user') }}" method="POST">
          <div class="mb-3">
            <label for="email" class="form-label">
              <i class="bi bi-envelope"></i> Email
            </label>
            <input type="email" class="form-control" id="email" name="email" placeholder="Digite seu email" required>
          </div>

          <div class="mb-3">
            <label for="senha" class="form-label">
              <i class="bi bi-lock"></i> Senha
            </label>
            <input type="password" class="form-control" id="senha" name="senha" placeholder="Digite sua senha" required>
          </div>

          <div class="mb-3">
            <label for="tipo_usuario" class="form-label">
              <i class="bi bi-person-badge"></i> Acessar como:
            </label>
            <select class="form-select" id="tipo_usuario" name="tipo_usuario" required>
              <option value="">Selecione...</option>
              <option value="medico">Médico</option>
              <option value="paciente">Paciente</option>
              <option value="recepcionista">Recepcionista</option>
            </select>
          </div>

          <button type="submit" class="btn btn-primary w-100 mt-2">
            <i class="bi bi-box-arrow-in-right"></i> Entrar
          </button>
        </form>

        <div class="register-link">
          <p class="mt-3">
            Ainda não tem conta? 
            <a href="{{ url_for('user.register') }}">
              <i class="bi bi-person-plus-fill"></i> Cadastre-se como paciente
            </a>
          </p>
        </div>
      </div>
    </div>

    <footer>
      <p>© 2025 Clínica Vida+ — Sistema de Agendamento</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
